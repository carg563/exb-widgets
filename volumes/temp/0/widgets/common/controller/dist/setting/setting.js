System.register(["jimu-core","jimu-ui","jimu-ui/advanced/setting-components","jimu-layouts/layout-runtime","jimu-for-builder","jimu-ui/advanced/style-setting-components","jimu-ui/basic/color-picker"],(function(e){var n,t,i,a,o,r,l;return{setters:[function(e){n=e},function(e){t=e},function(e){i=e},function(e){a=e},function(e){o=e},function(e){r=e},function(e){l=e}],execute:function(){e(function(e){var n={};function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(i,a,function(n){return e[n]}.bind(null,a));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=401)}({0:function(e,t){e.exports=n},1:function(e,n){e.exports=t},13:function(e,n){e.exports=r},2:function(e,n){e.exports=i},20:function(e,n){e.exports=l},25:function(e,n,t){"use strict";t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o})),t.d(n,"f",(function(){return r})),t.d(n,"e",(function(){return l})),t.d(n,"d",(function(){return c})),t.d(n,"g",(function(){return u}));var i=5,a="controller",o="_openwidget",r=150,l=50,c=21,u={sm:24,default:32,lg:48}},32:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return u}));var i=t(0),a=t(5),o=i.React.useMemo,r=i.ReactRedux.useSelector,l=function(e){var n=(e.order&&e.order.asMutable()||[]).map((function(n){var t;return null===(t=e.content)||void 0===t?void 0:t[n]}));return(n=n.filter((function(e){return e&&!e.isPending}))).map((function(e){return null==e?void 0:e.id}))},c=function(e,n){var t=u(e,n);return o((function(){return function(e){return l(e).map((function(n){var t,i;return null===(i=null===(t=e.content)||void 0===t?void 0:t[n])||void 0===i?void 0:i.widgetId}))}(t)}),[t])},u=function(e,n){return r((function(t){var i,o,r,l=null===(o=null===(i=(t=t.appContext.isBuilder?t.appStateInBuilder:t).appConfig.widgets)||void 0===i?void 0:i[e])||void 0===o?void 0:o.layouts,c=a.searchUtils.findLayoutId(l[n],t.browserSizeMode,t.appConfig.mainSizeMode);return null===(r=t.appConfig.layouts)||void 0===r?void 0:r[c]}))}},33:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e.Stack="STACK",e.SideBySide="SIDEBYSIDE"}(i||(i={}))},401:function(e,n,t){"use strict";t.r(n);var i,a=t(0),o=t(8),r=t(2),l=t(5),c=t(33),u=t(1),s={_widgetLabel:"Widget Controller",behavior:"Behavior",openWidget:"How many widgets can be opened",displayType:"Display type",sideBySide:"Side by side",iconStyle:"Icon style",showIconLabel:"Show label",iconInterval:"Icons interval",openStart:"Open widgets when the page is loaded",widgetsSelected:"{widgetNumber} widgets selected"},d=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};!function(e){e[e.Circle=0]="Circle",e[e.Rectangle=1]="Rectangle"}(i||(i={}));var p,v,f=function(e){var n=e.className,t=e.title,o=e.type,r=e.active,l=e.theme,c=e.onClick,u=function(e){var n=null==e?void 0:e.colors.white,t=null==e?void 0:e.colors.palette.primary[700],i=null==e?void 0:e.colors.palette.dark[900];return a.React.useMemo((function(){return Object(a.css)(p||(p=d(["\n    background-color: ",";\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: ",";\n    height: ",";\n    margin: 2px;\n    &.active{\n      outline: 2px "," solid;\n    }\n    .inner {\n      width: 66%;\n      height: 66%;\n      border: 1px "," solid;\n      border-radius: 2px;\n      &.circle {\n        border-radius: 50%;\n      }\n    }\n  "],["\n    background-color: ",";\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: ",";\n    height: ",";\n    margin: 2px;\n    &.active{\n      outline: 2px "," solid;\n    }\n    .inner {\n      width: 66%;\n      height: 66%;\n      border: 1px "," solid;\n      border-radius: 2px;\n      &.circle {\n        border-radius: 50%;\n      }\n    }\n  "])),n,a.polished.rem(28),a.polished.rem(28),t,i)}),[n,t,i])}(l);return Object(a.jsx)("div",{css:u,onClick:c,title:t,className:Object(a.classNames)("choose-shape",{active:r},n)},Object(a.jsx)("div",{className:Object(a.classNames)("inner",{rectangle:o===i.Rectangle},{circle:o===i.Circle})}))},b=t(20),j=t(13),m=t(32),g=t(25),h=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},w=a.ReactRedux.useSelector,x=Object(a.css)(v||(v=h(["\n    font-size: 13px;\n    font-weight: lighter;\n    .setting-row-item {\n      width: 100%;\n      display: flex;\n      margin-top: 0.5rem;\n      > span.jimu-radio {\n        flex-shrink: 0;\n        margin-top: 0.1rem;\n      }\n      > label {\n        margin-bottom: 0;\n      }\n    }\n    .font-setting-row {\n      display: flex;\n      align-items: center;\n    }\n    .jimu-multi-select {\n      width: 100%;\n      > .jimu-dropdown {\n        width: 100%;\n      }\n      > .jimu-menu-item {\n        width: 100%;\n        height: ",";\n      }\n    }\n  "],["\n    font-size: 13px;\n    font-weight: lighter;\n    .setting-row-item {\n      width: 100%;\n      display: flex;\n      margin-top: 0.5rem;\n      > span.jimu-radio {\n        flex-shrink: 0;\n        margin-top: 0.1rem;\n      }\n      > label {\n        margin-bottom: 0;\n      }\n    }\n    .font-setting-row {\n      display: flex;\n      align-items: center;\n    }\n    .jimu-multi-select {\n      width: 100%;\n      > .jimu-dropdown {\n        width: 100%;\n      }\n      > .jimu-menu-item {\n        width: 100%;\n        height: ",";\n      }\n    }\n  "])),a.polished.rem(26)),y=function(e,n){var t,i,a,o,r,l=(null===(i=null===(t=null==n?void 0:n.appearance)||void 0===t?void 0:t.card.avatar)||void 0===i?void 0:i.type)||"primary",c=null===(r=null===(o=null===(a=null==e?void 0:e.components)||void 0===a?void 0:a.button)||void 0===o?void 0:o.variants)||void 0===r?void 0:r[l];return c=(c=c.setIn(["default","color"],"#080808")).setIn(["active","color"],"#080808")};n.default=function(e){var n,t,d,p,v,h,O,S,k,C,N,I,R,T,P,B=e.id,M=e.config,L=e.theme,A=e.onSettingChange,_=null===(n=null==M?void 0:M.behavior)||void 0===n?void 0:n.onlyOpenOne,z=null===(t=null==M?void 0:M.behavior)||void 0===t?void 0:t.displayType,F=null===(d=null==M?void 0:M.behavior)||void 0===d?void 0:d.vertical,D=null===(p=null==M?void 0:M.behavior)||void 0===p?void 0:p.openStarts,G=null===(v=null==M?void 0:M.appearance)||void 0===v?void 0:v.space,W=null===(h=null==M?void 0:M.appearance)||void 0===h?void 0:h.advanced,H=null===(O=null==M?void 0:M.appearance.card)||void 0===O?void 0:O.showLabel,E=null!==(k=null===(S=null==M?void 0:M.appearance.card)||void 0===S?void 0:S.labelGrowth)&&void 0!==k?k:0,V=null===(N=null===(C=null==M?void 0:M.appearance.card)||void 0===C?void 0:C.avatar)||void 0===N?void 0:N.size,K=null===(R=null===(I=null==M?void 0:M.appearance.card)||void 0===I?void 0:I.avatar)||void 0===R?void 0:R.shape,U=null!==(T=null==D?void 0:D[0])&&void 0!==T?T:"none",Y=F?G:E,q=w((function(e){return e.appStateInBuilder.theme})),J=function(e,n){var t=Object(m.b)(e,n),i=w((function(e){return e.appStateInBuilder.appConfig.widgets}));return Object(a.Immutable)(t||[]).map((function(e){var n;return{label:null===(n=i[e])||void 0===n?void 0:n.label,value:e}}))}(B,g.a),Q=u.hooks.useTranslate(u.defaultMessages),X=u.hooks.useTranslate(l.defaultMessages),Z=u.hooks.useTranslate(s),$=W?null===(P=null==M?void 0:M.appearance)||void 0===P?void 0:P.card.variant:y(q,M),ee=null==$?void 0:$.default,ne=null==$?void 0:$.active,te=null==$?void 0:$.hover,ie=function(e,n){var t=null;t=Array.isArray(e)?M.setIn(e,n):M.set(e,n),A({id:B,config:t})},ae=function(e,n,t){if(e.currentTarget.checked){var i=null;"onlyOpenOne"===n?i=M.setIn(["behavior","openStarts"],Object(a.Immutable)([])).setIn(["behavior",n],t):"displayType"===n&&(t=t?c.a.Stack:c.a.SideBySide,i=M.setIn(["behavior",n],t)),A({id:B,config:i})}};return Object(a.jsx)("div",{className:"widget-setting-controller jimu-widget-setting",css:x},Object(a.jsx)(r.SettingSection,null,Object(a.jsx)(r.SettingRow,{flow:"no-wrap",label:Z("direction")},Object(a.jsx)(r.DirectionSelector,{vertical:F,onChange:function(e){var n=M.setIn(["behavior","vertical"],e).setIn(["appearance","card","labelGrowth"],0).setIn(["appearance","space"],0);A({id:B,config:n}),Object(o.getAppConfigAction)().exchangeWidthAndHeight().exec()}}))),Object(a.jsx)(r.SettingSection,{title:Z("behavior")},Object(a.jsx)(r.SettingRow,{flow:"wrap",label:Z("openWidget")},Object(a.jsx)("div",{className:"setting-row-item"},Object(a.jsx)(u.Radio,{id:"only-open-one",style:{cursor:"pointer"},name:"only-open-one",onChange:function(e){return ae(e,"onlyOpenOne",!0)},checked:_}),Object(a.jsx)(u.Label,{style:{cursor:"pointer"},for:"only-open-one",className:"ml-2"},Q("single"))),Object(a.jsx)("div",{className:"setting-row-item"},Object(a.jsx)(u.Radio,{id:"open-multiple",style:{cursor:"pointer"},name:"only-open-one",onChange:function(e){return ae(e,"onlyOpenOne",!1)},checked:!_}),Object(a.jsx)(u.Label,{style:{cursor:"pointer"},for:"open-multiple",className:"ml-2"},Q("multiple")))),Object(a.jsx)(r.SettingRow,{flow:"wrap",label:Z("openStart")},!_&&Object(a.jsx)(u.MultiSelect,{values:D,items:J,onClickItem:function(e,n,t){var i=_?t.length?[n]:[]:t;ie(["behavior","openStarts"],i)},displayByValues:function(e){if(_&&e.length){var n=J.find((function(n){return n.value===e[0]}));return null==n?void 0:n.label}var t=(null==e?void 0:e.length)||0;return Z("widgetsSelected",{widgetNumber:t})}}),_&&Object(a.jsx)(u.Select,{value:U,onChange:function(e){var n=e.target.value,t=[];"none"!==n&&(t=[n]),ie(["behavior","openStarts"],t)},className:"w-100"},Object(a.jsx)("option",{value:"none"},Q("none")),null==J?void 0:J.map((function(e){return Object(a.jsx)("option",{key:e.value,value:e.value},e.label)})))),!_&&Object(a.jsx)(r.SettingRow,{flow:"wrap",label:Z("displayType")},Object(a.jsx)("div",{className:"setting-row-item"},Object(a.jsx)(u.Radio,{id:"display-stack",style:{cursor:"pointer"},name:"display-type",onChange:function(e){return ae(e,"displayType",!0)},checked:z===c.a.Stack}),Object(a.jsx)(u.Label,{style:{cursor:"pointer"},for:"display-stack",className:"ml-2"},X("stack"))),Object(a.jsx)("div",{className:"setting-row-item"},Object(a.jsx)(u.Radio,{id:"display-side-by-side",style:{cursor:"pointer"},name:"display-type",onChange:function(e){return ae(e,"displayType",!1)},checked:z===c.a.SideBySide}),Object(a.jsx)(u.Label,{style:{cursor:"pointer"},for:"display-side-by-side",className:"ml-2"},Z("sideBySide"))))),Object(a.jsx)(r.SettingSection,{title:Z("appearance",!0)},Object(a.jsx)(r.SettingRow,{flow:"wrap",label:Z("iconStyle")},Object(a.jsx)(f,{type:i.Circle,title:Q("circle",!0),className:"mr-2",active:"circle"===K,theme:L,onClick:function(){return ie(["appearance","card","avatar","shape"],"circle")}}),Object(a.jsx)(f,{type:i.Rectangle,title:Q("rectangle"),active:"rectangle"===K,theme:L,onClick:function(){return ie(["appearance","card","avatar","shape"],"rectangle")}})),Object(a.jsx)(r.SettingRow,{label:Z("showIconLabel")},Object(a.jsx)(u.Switch,{checked:H,onChange:function(e){return ie(["appearance","card","showLabel"],e.target.checked)}})),Object(a.jsx)(r.SettingRow,{flow:"no-wrap",label:Z("iconSize")},Object(a.jsx)(u.Select,{value:V,onChange:function(e){return ie(["appearance","card","avatar","size"],e.target.value)},className:"w-50"},Object(a.jsx)("option",{value:"sm"},Q("small")),Object(a.jsx)("option",{value:"default"},Q("medium")),Object(a.jsx)("option",{value:"lg"},Q("large")))),Object(a.jsx)(r.SettingRow,{flow:"no-wrap",label:Z("iconInterval")},Object(a.jsx)(u.NumericInput,{className:"w-50",min:0,max:999,value:Y,showHandlers:!1,onAcceptValue:function(e){e=+e,isNaN(e)&&(e=0);var n=M;n=n.behavior.vertical?n.setIn(["appearance","space"],e).setIn(["appearance","card","labelGrowth"],0):n.setIn(["appearance","card","labelGrowth"],e).setIn(["appearance","space"],0),A({id:B,config:n})}}))),Object(a.jsx)(r.SettingSection,null,Object(a.jsx)(r.SettingRow,{flow:"no-wrap",label:Z("advance")},Object(a.jsx)(u.Switch,{checked:W,onChange:function(){var e,n=!(null===(e=null==M?void 0:M.appearance)||void 0===e?void 0:e.advanced),t=M.setIn(["appearance","advanced"],n);if(n){var i=y(q,M);t=t.setIn(["appearance","card","variant"],i)}else t=t.setIn(["appearance","card","variant"],void 0);A({id:B,config:t})}})),W&&Object(a.jsx)(r.SettingRow,{label:Z("states"),flow:"wrap"},Object(a.jsx)(u.Tabs,{pills:!0,className:"flex-grow-1 w-100 h-100",fill:!0},Object(a.jsx)(u.Tab,{id:"regular",className:"tab-title-item",defaultActive:!0,title:Z("regular")},Object(a.jsx)(r.SettingRow,{className:"mt-2",label:Z("textFormat"),flow:"no-wrap"},Object(a.jsx)("div",{className:"font-setting-row"},Object(a.jsx)(j.FontStyle,{bold:null==ee?void 0:ee.bold,italic:null==ee?void 0:ee.italic,underline:null==ee?void 0:ee.underline,strike:null==ee?void 0:ee.strike,onChange:function(e,n){return ie(["appearance","card","variant","default",e],n)}}),Object(a.jsx)(b.ThemeColorPicker,{specificTheme:q,value:null==ee?void 0:ee.color,onChange:function(e){return ie(["appearance","card","variant","default","color"],e)}}))),Object(a.jsx)(r.SettingRow,{className:"mt-2",label:Z("iconBackground"),flow:"no-wrap"},Object(a.jsx)(b.ThemeColorPicker,{specificTheme:q,value:null==ee?void 0:ee.bg,onChange:function(e){return ie(["appearance","card","variant","default","bg"],e)}}))),Object(a.jsx)(u.Tab,{id:"selected",className:"tab-title-item",title:Z("selected")},Object(a.jsx)(r.SettingRow,{className:"mt-2",label:Z("textFormat"),flow:"no-wrap"},Object(a.jsx)("div",{className:"font-setting-row"},Object(a.jsx)(j.FontStyle,{bold:null==ne?void 0:ne.bold,italic:null==ne?void 0:ne.italic,underline:null==ne?void 0:ne.underline,strike:null==ne?void 0:ne.strike,onChange:function(e,n){return ie(["appearance","card","variant","active",e],n)}}),Object(a.jsx)(b.ThemeColorPicker,{specificTheme:q,value:null==ne?void 0:ne.color,onChange:function(e){return ie(["appearance","card","variant","active","color"],e)}}))),Object(a.jsx)(r.SettingRow,{className:"mt-2",label:Z("iconBackground"),flow:"no-wrap"},Object(a.jsx)(b.ThemeColorPicker,{specificTheme:q,value:null==ne?void 0:ne.bg,onChange:function(e){return ie(["appearance","card","variant","active","bg"],e)}}))),Object(a.jsx)(u.Tab,{id:"jover",className:"tab-title-item",title:Z("hover")},Object(a.jsx)(r.SettingRow,{className:"mt-2",label:Z("textFormat"),flow:"no-wrap"},Object(a.jsx)("div",{className:"font-setting-row"},Object(a.jsx)(j.FontStyle,{bold:null==te?void 0:te.bold,italic:null==te?void 0:te.italic,underline:null==te?void 0:te.underline,strike:null==te?void 0:te.strike,onChange:function(e,n){return ie(["appearance","card","variant","hover",e],n)}}),Object(a.jsx)(b.ThemeColorPicker,{specificTheme:q,value:null==te?void 0:te.color,onChange:function(e){return ie(["appearance","card","variant","hover","color"],e)}}))),Object(a.jsx)(r.SettingRow,{className:"mt-2",label:Z("iconBackground"),flow:"no-wrap"},Object(a.jsx)(b.ThemeColorPicker,{specificTheme:q,value:null==te?void 0:te.bg,onChange:function(e){return ie(["appearance","card","variant","hover","bg"],e)}})))))))}},5:function(e,n){e.exports=a},8:function(e,n){e.exports=o}}))}}}));